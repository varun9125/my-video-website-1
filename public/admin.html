<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel | KamaBaba Viral</title>

<!-- SEO / ICONS -->
<link rel="icon" href="/favicon.ico">
<meta name="robots" content="noindex,nofollow">

<style>
:root{
 --bg:#0b0b0b;
 --card:#141414;
 --accent:#ff0055;
 --soft:#999;
 --ok:#0f9d58;
 --err:#ff4444;
}

*{box-sizing:border-box}

body{
 margin:0;
 background:linear-gradient(180deg,#000,#0b0b0b);
 color:#fff;
 font-family:system-ui,-apple-system,Segoe UI;
}

/* ===== CENTER BOX ===== */
.wrapper{
 min-height:100vh;
 display:flex;
 align-items:center;
 justify-content:center;
 padding:20px;
}

.panel{
 width:100%;
 max-width:420px;
 background:var(--card);
 border-radius:14px;
 padding:22px;
 box-shadow:0 0 40px rgba(255,0,85,.25);
}

/* ===== HEADER ===== */
.panel h1{
 margin:0 0 5px;
 text-align:center;
 color:var(--accent);
 letter-spacing:.5px;
}

.panel p{
 margin:0 0 20px;
 text-align:center;
 color:var(--soft);
 font-size:14px;
}

/* ===== INPUTS ===== */
label{
 font-size:13px;
 color:#bbb;
 display:block;
 margin-top:14px;
}

input[type="password"],
input[type="text"],
input[type="file"]{
 width:100%;
 margin-top:6px;
 padding:12px;
 border-radius:10px;
 border:1px solid #222;
 background:#0f0f0f;
 color:#fff;
 font-size:14px;
}

input::file-selector-button{
 background:#222;
 color:#fff;
 border:none;
 padding:8px 12px;
 border-radius:6px;
 cursor:pointer;
}

/* ===== PROGRESS ===== */
.progress{
 width:100%;
 height:8px;
 background:#222;
 border-radius:10px;
 margin-top:16px;
 overflow:hidden;
 display:none;
}

.progress div{
 height:100%;
 width:0%;
 background:linear-gradient(90deg,#ff0055,#ff3380);
 transition:width .3s;
}

/* ===== BUTTON ===== */
button{
 width:100%;
 margin-top:18px;
 padding:14px;
 border:none;
 border-radius:12px;
 font-size:15px;
 font-weight:600;
 cursor:pointer;
 background:linear-gradient(135deg,#ff0055,#ff3377);
 color:#fff;
}

button:disabled{
 opacity:.6;
 cursor:not-allowed;
}

/* ===== STATUS ===== */
#status{
 margin-top:16px;
 min-height:22px;
 text-align:center;
 font-size:14px;
}

.ok{color:var(--ok)}
.err{color:var(--err)}

/* ===== FOOTER ===== */
.footer{
 text-align:center;
 margin-top:18px;
 font-size:12px;
 color:#666;
}
</style>
</head>

<body>

<div class="wrapper">
 <div class="panel">

  <h1>üîê Admin Upload</h1>
  <p>KamaBaba Viral ‚Ä¢ Secure Control Panel</p>

  <label>Admin Password</label>
  <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">

  <label>Video Title (SEO friendly)</label>
  <input type="text" id="title" placeholder="Hot desi viral clip">

  <label>Select Video (MP4 / MOV)</label>
  <input type="file" id="video" accept="video/*">

  <div class="progress" id="progress">
    <div id="bar"></div>
  </div>

  <button id="btn" onclick="upload()">üöÄ Upload Video</button>

  <div id="status"></div>

  <div class="footer">
   ¬© KamaBaba Viral ‚Äî Admin Access
  </div>

 </div>
</div>

<script>
async function upload(){
 const btn = document.getElementById("btn");
 const status = document.getElementById("status");
 const bar = document.getElementById("bar");
 const progress = document.getElementById("progress");

 const password = document.getElementById("password").value.trim();
 const title = document.getElementById("title").value.trim();
 const file = document.getElementById("video").files[0];

 if(!password){
  status.innerHTML = "<span class='err'>‚ùå Admin password required</span>";
  return;
 }
 if(!file){
  status.innerHTML = "<span class='err'>‚ùå Please select a video</span>";
  return;
 }

 btn.disabled = true;
 status.innerHTML = "‚è≥ Uploading‚Ä¶ please wait";
 progress.style.display="block";
 bar.style.width="5%";

 const fd = new FormData();
 fd.append("password", password);
 fd.append("title", title || "Untitled");
 fd.append("video", file);

 try{
  const xhr = new XMLHttpRequest();
  xhr.open("POST","/api/upload");

  xhr.upload.onprogress = e=>{
   if(e.lengthComputable){
    const p = Math.round((e.loaded / e.total) * 90);
    bar.style.width = p + "%";
   }
  };

  xhr.onload = ()=>{
   bar.style.width="100%";
   const res = JSON.parse(xhr.responseText || "{}");

   if(res.success){
    status.innerHTML="<span class='ok'>‚úÖ Upload successful</span>";
    document.getElementById("video").value="";
    document.getElementById("title").value="";
   }else{
    status.innerHTML="<span class='err'>‚ùå "+(res.error||"Upload failed")+"</span>";
   }
   btn.disabled=false;
  };

  xhr.onerror = ()=>{
   status.innerHTML="<span class='err'>‚ùå Network error</span>";
   btn.disabled=false;
  };

  xhr.send(fd);

 }catch(err){
  status.innerHTML="<span class='err'>‚ùå Server error</span>";
  btn.disabled=false;
 }
}
</script>

</body>
</html>
