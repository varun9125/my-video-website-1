<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Watch Video | KamaBaba Viral</title>

<meta name="description" content="Watch trending desi viral adult videos on KamaBaba Viral.">
<meta name="robots" content="index, follow">

<link rel="icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/logo-192.png">
<meta name="theme-color" content="#000000">

<!-- ‚úÖ EXOCLICK CLIENT HINT META TAG -->
<meta http-equiv="Delegate-CH"
content="Sec-CH-UA https://s.magsrv.com; Sec-CH-UA-Mobile https://s.magsrv.com; Sec-CH-UA-Platform https://s.magsrv.com;">

<!-- ‚úÖ VIDEO.JS -->
<link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />

<style>
body{margin:0;background:#000;color:#fff;font-family:system-ui}
.topLogo{text-align:center;padding:8px}
.topLogo img{height:36px}
.info{padding:12px}
.meta{font-size:13px;color:#aaa}
.actions{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap}
.actions button{padding:8px 14px;border:none;border-radius:8px;background:#1c1c1c;color:#fff}
.actions button:hover{background:#ff0055}
</style>
</head>

<body>

<div class="topLogo">
 <img src="/logo.png">
</div>

<!-- ‚úÖ VIDEO PLAYER -->
<video
 id="player"
 class="video-js vjs-default-skin"
 controls
 preload="auto"
 width="100%"
 height="260"
 playsinline>
</video>

<div class="info">
 <h3 id="title">Loading‚Ä¶</h3>
 <div class="meta">
  üëÅ <span id="viewCount">0</span>
 </div>
</div>

<!-- ‚úÖ VIDEO.JS -->
<script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>

<!-- ‚úÖ VAST PLUGIN -->
<script src="https://cdn.jsdelivr.net/npm/videojs-contrib-ads@6/dist/videojs-contrib-ads.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-ima@1/dist/videojs.ima.min.js"></script>

<script>
const id = new URLSearchParams(location.search).get("id");

fetch("/api/videos")
.then(r=>r.json())
.then(videos=>{
 const v = videos.find(x=>x._id===id);
 if(!v) return;

 document.getElementById("title").innerText = v.title;
 document.getElementById("viewCount").innerText = v.views || 0;

 const player = videojs("player");

 player.src({
  src: v.url,
  type: "video/mp4"
 });

 // ‚úÖ EXOCLICK VAST AD
 player.ima({
  adTagUrl: "https://s.magsrv.com/v1/vast.php?idzone=5809070",
  debug: false,
  timeout: 7000
 });

 player.ready(() => {
  player.ima.initializeAdDisplayContainer();
  player.play();
 });
});
</script>

</body>
</html>
